<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kaustubh S Nair">
<meta name="dcterms.date" content="2023-06-30">

<title>Orion Summer Internship (House Price Prediction Model)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="report_files/libs/clipboard/clipboard.min.js"></script>
<script src="report_files/libs/quarto-html/quarto.js"></script>
<script src="report_files/libs/quarto-html/popper.min.js"></script>
<script src="report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="report_files/libs/quarto-html/anchor.min.js"></script>
<link href="report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="report.md"><i class="bi bi-file-code"></i>Github (GFM)</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Orion Summer Internship (House Price Prediction Model)</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kaustubh S Nair </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 30, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="the-aems-advanced-estate-management-system" class="level1">
<h1>🎯The AEMS (Advanced Estate Management System)</h1>
<p>House Prediction Regression Model is a machine learning-based system designed to accurately predict house prices. The model leverages regression algorithms and advanced data analysis techniques to estimate the monetary value of residential properties based on a variety of input features. By analyzing historical data and learning from patterns, the AEMS model aims to provide reliable and precise predictions, facilitating informed decision-making in the real estate industry.The model incorporates various stages of data preprocessing and feature engineering to handle missing values, outliers, and transform variables into a suitable format for regression analysis. Techniques such as log transformation, one-hot encoding, and label encoding are applied to ensure the optimal representation of the data. The model also employs advanced regression algorithms, such as linear regression, decision trees, random forests, or gradient boosting, to capture complex relationships and accurately estimate house prices.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>load_dotenv()  <span class="co"># take environment variables from .env.</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#ROOT_DIR1 =  os.environ.get("ROOT_DIR") </span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print(ROOT_DIR1)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>ROOT_DIR <span class="op">=</span>  os.environ.get(<span class="st">"ROOT_DIR2"</span>) </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ROOT_DIR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>E:/source/repos/OrionSummerInternship-2023</code></pre>
</div>
</div>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>os.chdir(ROOT_DIR)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sb</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> LabelEncoder</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> src.util <span class="im">import</span> catgvssale,contvssale,contvscont,check_column_skewness,remove_skewness,plot_contv,remove_ngskewness,log_transform_continuous,one_hot_encode_nominal,label_encode_dataset,preprocess_dataset</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv( <span class="st">"data/raw/train.csv"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>temp_df<span class="op">=</span>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pre-processing-eda" class="level1">
<h1>🎯PRE-PROCESSING &amp; EDA :</h1>
<p>EDA (Exploratory Data Analysis) and preprocessing play crucial roles in the development of the AEMS House Prediction Regression Model. These stages involve thorough analysis, cleaning, and transformation of the dataset to ensure optimal data quality and feature representation. Analyze the distribution of numerical features and address skewness or non-normality by applying transformations like log transformation.Convert categorical variables into numerical representations using one-hot encoding or label encoding techniques, depending on the nature and cardinality of the variables.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>numerics <span class="op">=</span>[<span class="st">'int16'</span>,<span class="st">'int32'</span>,<span class="st">'int64'</span>,<span class="st">'float16'</span>,<span class="st">'float32'</span>,<span class="st">'float64'</span>]</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>numcol <span class="op">=</span> df.select_dtypes(include<span class="op">=</span>numerics)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(numcol)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>numcol</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Id</th>
<th data-quarto-table-cell-role="th">MSSubClass</th>
<th data-quarto-table-cell-role="th">LotFrontage</th>
<th data-quarto-table-cell-role="th">LotArea</th>
<th data-quarto-table-cell-role="th">OverallQual</th>
<th data-quarto-table-cell-role="th">OverallCond</th>
<th data-quarto-table-cell-role="th">YearBuilt</th>
<th data-quarto-table-cell-role="th">YearRemodAdd</th>
<th data-quarto-table-cell-role="th">MasVnrArea</th>
<th data-quarto-table-cell-role="th">BsmtFinSF1</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">WoodDeckSF</th>
<th data-quarto-table-cell-role="th">OpenPorchSF</th>
<th data-quarto-table-cell-role="th">EnclosedPorch</th>
<th data-quarto-table-cell-role="th">3SsnPorch</th>
<th data-quarto-table-cell-role="th">ScreenPorch</th>
<th data-quarto-table-cell-role="th">PoolArea</th>
<th data-quarto-table-cell-role="th">MiscVal</th>
<th data-quarto-table-cell-role="th">MoSold</th>
<th data-quarto-table-cell-role="th">YrSold</th>
<th data-quarto-table-cell-role="th">SalePrice</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>60</td>
<td>65.0</td>
<td>8450</td>
<td>7</td>
<td>5</td>
<td>2003</td>
<td>2003</td>
<td>196.0</td>
<td>706</td>
<td>...</td>
<td>0</td>
<td>61</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>2</td>
<td>2008</td>
<td>208500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>20</td>
<td>80.0</td>
<td>9600</td>
<td>6</td>
<td>8</td>
<td>1976</td>
<td>1976</td>
<td>0.0</td>
<td>978</td>
<td>...</td>
<td>298</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>5</td>
<td>2007</td>
<td>181500</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>60</td>
<td>68.0</td>
<td>11250</td>
<td>7</td>
<td>5</td>
<td>2001</td>
<td>2002</td>
<td>162.0</td>
<td>486</td>
<td>...</td>
<td>0</td>
<td>42</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>9</td>
<td>2008</td>
<td>223500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>70</td>
<td>60.0</td>
<td>9550</td>
<td>7</td>
<td>5</td>
<td>1915</td>
<td>1970</td>
<td>0.0</td>
<td>216</td>
<td>...</td>
<td>0</td>
<td>35</td>
<td>272</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>2</td>
<td>2006</td>
<td>140000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5</td>
<td>60</td>
<td>84.0</td>
<td>14260</td>
<td>8</td>
<td>5</td>
<td>2000</td>
<td>2000</td>
<td>350.0</td>
<td>655</td>
<td>...</td>
<td>192</td>
<td>84</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>12</td>
<td>2008</td>
<td>250000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1455</td>
<td>1456</td>
<td>60</td>
<td>62.0</td>
<td>7917</td>
<td>6</td>
<td>5</td>
<td>1999</td>
<td>2000</td>
<td>0.0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>40</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>8</td>
<td>2007</td>
<td>175000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1456</td>
<td>1457</td>
<td>20</td>
<td>85.0</td>
<td>13175</td>
<td>6</td>
<td>6</td>
<td>1978</td>
<td>1988</td>
<td>119.0</td>
<td>790</td>
<td>...</td>
<td>349</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>2</td>
<td>2010</td>
<td>210000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1457</td>
<td>1458</td>
<td>70</td>
<td>66.0</td>
<td>9042</td>
<td>7</td>
<td>9</td>
<td>1941</td>
<td>2006</td>
<td>0.0</td>
<td>275</td>
<td>...</td>
<td>0</td>
<td>60</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>2500</td>
<td>5</td>
<td>2010</td>
<td>266500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1458</td>
<td>1459</td>
<td>20</td>
<td>68.0</td>
<td>9717</td>
<td>5</td>
<td>6</td>
<td>1950</td>
<td>1996</td>
<td>0.0</td>
<td>49</td>
<td>...</td>
<td>366</td>
<td>0</td>
<td>112</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>4</td>
<td>2010</td>
<td>142125</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1459</td>
<td>1460</td>
<td>20</td>
<td>75.0</td>
<td>9937</td>
<td>5</td>
<td>6</td>
<td>1965</td>
<td>1965</td>
<td>0.0</td>
<td>830</td>
<td>...</td>
<td>736</td>
<td>68</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>2008</td>
<td>147500</td>
</tr>
</tbody>
</table>

<p>1460 rows × 38 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>missingper <span class="op">=</span> df.isna().<span class="bu">sum</span>().sort_values(ascending<span class="op">=</span><span class="va">False</span>)<span class="op">/</span><span class="bu">len</span>(df)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>missingper.head(<span class="dv">10</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>miss_col <span class="op">=</span> missingper[missingper<span class="op">!=</span><span class="dv">0</span>]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>miss_col</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>miss_col.head(<span class="dv">19</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>PoolQC          0.995205
MiscFeature     0.963014
Alley           0.937671
Fence           0.807534
MasVnrType      0.597260
FireplaceQu     0.472603
LotFrontage     0.177397
GarageYrBlt     0.055479
GarageCond      0.055479
GarageType      0.055479
GarageFinish    0.055479
GarageQual      0.055479
BsmtFinType2    0.026027
BsmtExposure    0.026027
BsmtQual        0.025342
BsmtCond        0.025342
BsmtFinType1    0.025342
MasVnrArea      0.005479
Electrical      0.000685
dtype: float64</code></pre>
</div>
</div>
<section id="columns-with-no-missing_values" class="level2">
<h2 class="anchored" data-anchor-id="columns-with-no-missing_values">Columns with NO Missing_Values</h2>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>nomiss_col <span class="op">=</span> missingper[missingper <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>nomiss_col</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>nomiss_col.info()</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>nomiss_col.head(<span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.series.Series'&gt;
Index: 62 entries, Id to SalePrice
Series name: None
Non-Null Count  Dtype  
--------------  -----  
62 non-null     float64
dtypes: float64(1)
memory usage: 992.0+ bytes</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>Id              0.0
Functional      0.0
Fireplaces      0.0
KitchenQual     0.0
KitchenAbvGr    0.0
BedroomAbvGr    0.0
HalfBath        0.0
FullBath        0.0
BsmtHalfBath    0.0
TotRmsAbvGrd    0.0
GarageCars      0.0
GrLivArea       0.0
GarageArea      0.0
PavedDrive      0.0
WoodDeckSF      0.0
dtype: float64</code></pre>
</div>
</div>
</section>
<section id="targetsaleprie" class="level2">
<h2 class="anchored" data-anchor-id="targetsaleprie">Target:SalePrie</h2>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#plot_contv(contvar="SalePrice",df=df)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>remove_skewness(df,<span class="st">"SalePrice"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"SalePrice"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>plot_contv(contvar<span class="op">=</span><span class="st">"SalePrice"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-7-output-1.png" width="816" height="477"></p>
</div>
</div>
</section>
<section id="mssubclass" class="level2">
<h2 class="anchored" data-anchor-id="mssubclass">MSSubClass</h2>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>catgvssale(catgvar<span class="op">=</span><span class="st">"MSSubClass"</span>,df<span class="op">=</span>df)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"MSSubClass"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>1.4076567471495591</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-8-output-2.png" width="1411" height="1062"></p>
</div>
</div>
</section>
<section id="lotfrontage" class="level2">
<h2 class="anchored" data-anchor-id="lotfrontage">LotFrontage</h2>
<p>Checking the skewness of a temporary df which does not include the values of the column LotFrontage which has value 0 and plotting it against the salePrice to check whether it is suitable for the model or not.</p>
<p>Skewness before log transform is 2.1635691423248837.</p>
<p>Now removing the skewness and checking the value againa and plotting it again to see the difference.</p>
<p>Skewness atfer log transform = -0.7287278423055492</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>temp_df <span class="op">=</span> df.loc[df[<span class="st">'LotFrontage'</span>]<span class="op">!=</span><span class="dv">0</span>]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>remove_skewness(temp_df,<span class="st">"LotFrontage"</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>check_column_skewness(temp_df,<span class="st">"LotFrontage"</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"LotFrontage"</span>,df<span class="op">=</span>temp_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-9-output-1.png" width="1040" height="1146"></p>
</div>
</div>
</section>
<section id="lotarea" class="level2">
<h2 class="anchored" data-anchor-id="lotarea">LotArea</h2>
<p>Skewness = -0.1374044.</p>
<p>The value is acceptable as it has already been transformed using the log transformation.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>remove_skewness(temp_df,<span class="st">"LotArea"</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"LotArea"</span>,df<span class="op">=</span>temp_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-10-output-1.png" width="1039" height="1146"></p>
</div>
</div>
</section>
<section id="yearbuilt" class="level2">
<h2 class="anchored" data-anchor-id="yearbuilt">YearBuilt</h2>
<p>Skewness = -0.6134611.</p>
<p>As the skewness of the column is already less than 1 there is no need to apply the log transformation.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"YearBuilt"</span>,df<span class="op">=</span>temp_df)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>check_column_skewness(temp_df,<span class="st">"YearBuilt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>-0.613461172488183</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-11-output-2.png" width="1040" height="1146"></p>
</div>
</div>
</section>
<section id="yearremodadd" class="level2">
<h2 class="anchored" data-anchor-id="yearremodadd">YearRemodAdd</h2>
<p>Skewness=-0.503562002.</p>
<p>As from the below countplot, boxplot and regplot we can see that this data is not skewed.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"YearRemodAdd"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-12-output-1.png" width="1040" height="1146"></p>
</div>
</div>
</section>
<section id="yearremodadd-vs-yearbuilt" class="level2">
<h2 class="anchored" data-anchor-id="yearremodadd-vs-yearbuilt">YearRemodAdd vs YearBuilt</h2>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>contvscont(contvar<span class="op">=</span><span class="st">"YearBuilt"</span>,df<span class="op">=</span>df,tarvar<span class="op">=</span><span class="st">"YearRemodAdd"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-13-output-1.png" width="818" height="895"></p>
</div>
</div>
</section>
<section id="masvnrarea" class="level2">
<h2 class="anchored" data-anchor-id="masvnrarea">MasVnrArea</h2>
<p>Skewness = 2.677616.</p>
<p>From the below graph we can see that this data is a little positively skewed so we can apply here log transformation.</p>
<p>Skewness after = 0.50353171.</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>op <span class="op">=</span> remove_skewness(df,<span class="st">"MasVnrArea"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"MasVnrArea"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"MasVnrArea"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-14-output-1.png" width="1039" height="1146"></p>
</div>
</div>
</section>
<section id="bsmtfinsf1" class="level2">
<h2 class="anchored" data-anchor-id="bsmtfinsf1">BsmtFinSF1–</h2>
<p>Skewness = 1.685503071910789.</p>
<p>From the regression plot as well as boxplot we can say that this data is slightly skewed as it has more confidence in the regression plot.</p>
<p>Skewness = -0.618409817855514.</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>remove_skewness(df,<span class="st">"BsmtFinSF1"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"BsmtFinSF1"</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>temp_df <span class="op">=</span> df.loc[df[<span class="st">'BsmtFinSF1'</span>]<span class="op">!=</span><span class="dv">0</span>]</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"BsmtFinSF1"</span>,df<span class="op">=</span>temp_df)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>check_column_skewness(temp_df,<span class="st">"BsmtFinSF1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>-1.8212926673745269</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-15-output-2.png" width="1043" height="1146"></p>
</div>
</div>
</section>
<section id="bsmtfinsf2-type-2-finished-square-feet" class="level2">
<h2 class="anchored" data-anchor-id="bsmtfinsf2-type-2-finished-square-feet">BsmtFinSF2: Type 2 finished square feet</h2>
<p>Skewness = 4.255261108933303.</p>
<p>The data is positively skewed and may impact our model so we apply log transform. skewness = 2.434961825856814. After removing the 0 values we get the column with skewness which is less than 1. skewness = 0.9942372017307054</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>remove_skewness(df,<span class="st">"BsmtFinSF2"</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"BsmtFinSF2"</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>temp_df <span class="op">=</span> df.loc[df[<span class="st">'BsmtFinSF2'</span>]<span class="op">!=</span><span class="dv">0</span>]</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"BsmtFinSF2"</span>,df<span class="op">=</span>temp_df)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>check_column_skewness(temp_df,<span class="st">"BsmtFinSF2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>-0.5937670428573839</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-16-output-2.png" width="1031" height="1146"></p>
</div>
</div>
</section>
<section id="totalbsmtsf-total-square-feet-of-basement" class="level2">
<h2 class="anchored" data-anchor-id="totalbsmtsf-total-square-feet-of-basement">TotalBsmtSF: Total square feet of basement</h2>
<p>skewness = 1.5242545490627664</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"TotalBsmtSF"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-17-output-1.png" width="1040" height="1146"></p>
</div>
</div>
</section>
<section id="grlivarea-above-grade-ground-living-area-square-feet" class="level2">
<h2 class="anchored" data-anchor-id="grlivarea-above-grade-ground-living-area-square-feet">GrLivArea: Above grade (ground) living area square feet</h2>
<p>Skewness = 1.3665603560164552.</p>
<p>The skewness of this data is accepable so no need to apply the log transfrom as it would make it negatively skewed.</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"GrLivArea"</span>,df<span class="op">=</span>df)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"GrLivArea"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>1.3665603560164552</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-18-output-2.png" width="1039" height="1146"></p>
</div>
</div>
</section>
<section id="fullbath-full-bathrooms-above-grade" class="level2">
<h2 class="anchored" data-anchor-id="fullbath-full-bathrooms-above-grade">FullBath: Full bathrooms above grade</h2>
<p>From the regression plot as well as the boxplot we can conclude that the data is not skewed.</p>
<p>It is a descrete variable as well.</p>
<p>Skewness = 0.036561558402727165</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"FullBath"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>catgvssale(catgvar<span class="op">=</span><span class="st">"FullBath"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-19-output-1.png" width="1395" height="1062"></p>
</div>
</div>
</section>
<section id="bedroomabvgr-bedrooms-above-grade" class="level2">
<h2 class="anchored" data-anchor-id="bedroomabvgr-bedrooms-above-grade">BedroomAbvGr: Bedrooms above grade</h2>
<p>It appears as a continuous column but according to its bar graph it is clear that it is descrete.</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>catgvssale(catgvar<span class="op">=</span><span class="st">"BedroomAbvGr"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-20-output-1.png" width="1395" height="1062"></p>
</div>
</div>
</section>
<section id="kitchenabvgr-kitchens-above-grade" class="level2">
<h2 class="anchored" data-anchor-id="kitchenabvgr-kitchens-above-grade">KitchenAbvGr: Kitchens above grade</h2>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>catgvssale(catgvar<span class="op">=</span><span class="st">"KitchenAbvGr"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-21-output-1.png" width="1395" height="1062"></p>
</div>
</div>
</section>
<section id="totrmsabvgrd-total-rooms-above-grade-does-not-include-bathrooms" class="level2">
<h2 class="anchored" data-anchor-id="totrmsabvgrd-total-rooms-above-grade-does-not-include-bathrooms">TotRmsAbvGrd: Total rooms above grade (does not include bathrooms)</h2>
<p>From the below info we can see that the data is under the skew limit and the graph is normal.</p>
<p>Skewness = 0.6763408364355531</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"TotRmsAbvGrd"</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>catgvssale(catgvar<span class="op">=</span><span class="st">"TotRmsAbvGrd"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-22-output-1.png" width="1403" height="1062"></p>
</div>
</div>
</section>
<section id="fireplaces-number-of-fireplaces" class="level2">
<h2 class="anchored" data-anchor-id="fireplaces-number-of-fireplaces">Fireplaces: Number of fireplaces</h2>
<p>The data is under the skewness limit of 1.</p>
<p>It can be seen from the graphs as well.</p>
<p>skewness = 0.6495651830548841</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"Fireplaces"</span>,df<span class="op">=</span>df)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"Fireplaces"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>catgvssale(catgvar<span class="op">=</span><span class="st">"Fireplaces"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-23-output-1.png" width="1039" height="1146"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-23-output-2.png" width="1395" height="1062"></p>
</div>
</div>
</section>
<section id="garagecars-size-of-garage-in-car-capacity" class="level2">
<h2 class="anchored" data-anchor-id="garagecars-size-of-garage-in-car-capacity">GarageCars: Size of garage in car capacity</h2>
<p>From the below visualization it can be predicted that this data column is not skewed its normal.</p>
<p>skewness = -0.3425489297486655</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"GarageCars"</span>,df<span class="op">=</span>df)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"GarageCars"</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>catgvssale(catgvar<span class="op">=</span><span class="st">"GarageCars"</span>,df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-24-output-1.png" width="1039" height="1146"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-24-output-2.png" width="1395" height="1062"></p>
</div>
</div>
</section>
<section id="garagearea-size-of-garage-in-square-feet" class="level2">
<h2 class="anchored" data-anchor-id="garagearea-size-of-garage-in-square-feet">GarageArea: Size of garage in square feet</h2>
<p>skewness = 0.17998090674623907</p>
<p>Data column is acceptable.</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"GarageArea"</span>,df<span class="op">=</span>df)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"GarageArea"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>0.17998090674623907</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-25-output-2.png" width="1039" height="1146"></p>
</div>
</div>
</section>
<section id="garagecars-vs-garage-area" class="level2">
<h2 class="anchored" data-anchor-id="garagecars-vs-garage-area">garagecars vs garage area</h2>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>contvscont(contvar<span class="op">=</span><span class="st">"GarageArea"</span>,df<span class="op">=</span>df,tarvar<span class="op">=</span><span class="st">"GarageCars"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-26-output-1.png" width="816" height="895"></p>
</div>
</div>
</section>
<section id="openporchsf-open-porch-area-in-square-feetbest" class="level2">
<h2 class="anchored" data-anchor-id="openporchsf-open-porch-area-in-square-feetbest">OpenPorchSF: Open porch area in square feet(best)</h2>
<p>skewness = 2.3643417403694404</p>
<p>skewness after = -0.02339729485739231</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"OpenPorchSF"</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>remove_skewness(df,<span class="st">"OpenPorchSF"</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>temp_df<span class="op">=</span>temp_df <span class="op">=</span> df.loc[df[<span class="st">'OpenPorchSF'</span>]<span class="op">!=</span><span class="dv">0</span>]</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"OpenPorchSF"</span>,df<span class="op">=</span>temp_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-27-output-1.png" width="1039" height="1146"></p>
</div>
</div>
</section>
<section id="screenporch-screen-porch-area-in-square-feet" class="level2">
<h2 class="anchored" data-anchor-id="screenporch-screen-porch-area-in-square-feet">ScreenPorch: Screen porch area in square feet</h2>
<p>Skewness before transform = 4.122213743143115</p>
<p>Just after removing the 0 values the skewness came upto 1.186468489847003.</p>
<p>After removing the skewness values of the temp_df we get it -0.40 .</p>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>check_column_skewness(df,<span class="st">"ScreenPorch"</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>temp_df<span class="op">=</span>temp_df <span class="op">=</span> df.loc[df[<span class="st">'ScreenPorch'</span>]<span class="op">!=</span><span class="dv">0</span>]</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"ScreenPorch"</span>,df<span class="op">=</span>temp_df)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>check_column_skewness(temp_df,<span class="st">"ScreenPorch"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>1.186468489847003</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-28-output-2.png" width="1042" height="1146"></p>
</div>
</div>
</section>
<section id="current-age-of-the-buildings-according-to-the-yearremodadd" class="level2">
<h2 class="anchored" data-anchor-id="current-age-of-the-buildings-according-to-the-yearremodadd">current age of the buildings according to the YearRemodAdd</h2>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>temp_df <span class="op">=</span> df</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>current_year <span class="op">=</span> datetime.now().year</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>temp_df[<span class="st">'Age'</span>]<span class="op">=</span> current_year<span class="op">-</span>df[<span class="st">'YearRemodAdd'</span>]</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print(temp_df)</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>temp_df[<span class="st">'Age'</span>]</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>contvscont(contvar<span class="op">=</span><span class="st">'Age'</span>,df<span class="op">=</span>temp_df,tarvar<span class="op">=</span><span class="st">'SalePrice'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-29-output-1.png" width="816" height="895"></p>
</div>
</div>
</section>
<section id="age-of-the-building-acc-to-the-yearsold" class="level2">
<h2 class="anchored" data-anchor-id="age-of-the-building-acc-to-the-yearsold">Age of the building acc to the yearsold</h2>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>temp_df[<span class="st">'tempAge'</span>]<span class="op">=</span> df[<span class="st">'YrSold'</span>]<span class="op">-</span>df[<span class="st">'YearRemodAdd'</span>]</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co">#print(temp_df)</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>temp_df[<span class="st">'tempAge'</span>]</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">"tempAge"</span>,df<span class="op">=</span>temp_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-30-output-1.png" width="1040" height="1146"></p>
</div>
</div>
</section>
<section id="garage-year-built" class="level2">
<h2 class="anchored" data-anchor-id="garage-year-built">garage year built</h2>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>temp_df <span class="op">=</span> df</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>current_year <span class="op">=</span> datetime.now().year</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>temp_df[<span class="st">'GarAgeYr'</span>]<span class="op">=</span> current_year<span class="op">-</span>df[<span class="st">'GarageYrBlt'</span>]</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>temp_df[<span class="st">'GarAgeYr'</span>]</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>contvssale(contvar<span class="op">=</span><span class="st">'GarAgeYr'</span>,df<span class="op">=</span>temp_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-31-output-1.png" width="1040" height="1146"></p>
</div>
</div>
</section>
</section>
<section id="training-and-evaluation" class="level1">
<h1>🎯TRAINING AND EVALUATION :</h1>
<p>Split the preprocessed dataset into training and testing sets to evaluate the model’s performance on unseen data.Ensure proper stratification if the dataset is imbalanced or if specific classes or categories need to be represented equally in both sets.</p>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sb</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> LabelEncoder</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> src.util <span class="im">import</span> catgvssale,contvssale,contvscont,check_column_skewness,remove_skewness,plot_contv,remove_ngskewness,preprocess_dataset</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> skew</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> Lasso</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_selection <span class="im">import</span> SelectPercentile, chi2</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> r2_score</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pickle</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>final_df <span class="op">=</span> pd.read_csv(<span class="st">'data/raw/train.csv'</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span>  pd.read_csv(<span class="st">'data/raw/train.csv'</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>lbl_dsc <span class="op">=</span> pd.read_csv(<span class="st">'data\clean\label_description.csv'</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>var_dsc <span class="op">=</span>  pd.read_csv(<span class="st">'data/clean/variable_description.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="select-the-variables-that-are-nominal-from-var_dsc" class="level2">
<h2 class="anchored" data-anchor-id="select-the-variables-that-are-nominal-from-var_dsc">Select the variables that are Nominal from var_dsc</h2>
<p>From the variable description file we are collecting only the variables that are nominal so that we can add it to the list of nominal data.</p>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>nominal_df <span class="op">=</span> var_dsc.loc[var_dsc[<span class="st">'variable_type'</span>] <span class="op">==</span> <span class="st">'Nominal'</span>]</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co">#print(ordinal_df)</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co">#nominal_df.head(30)</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>nominal_list <span class="op">=</span> nominal_df[<span class="st">'variable'</span>].to_list()</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(nominal_list)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>nominal_list.remove(<span class="st">"MiscFeature"</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>nominal_list.remove(<span class="st">"Alley"</span>)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>nominal_list.remove(<span class="st">"MSSubClass"</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(nominal_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['MSSubClass', 'MSZoning', 'Street', 'Alley', 'LandContour', 'LotConfig', 'Neighborhood', 'Condition1', 'Condition2', 'BldgType', 'HouseStyle', 'RoofStyle', 'RoofMatl', 'Exterior1st', 'Exterior2nd', 'MasVnrType', 'Foundation', 'Heating', 'CentralAir', 'GarageType', 'MiscFeature', 'SaleType', 'SaleCondition']
['MSZoning', 'Street', 'LandContour', 'LotConfig', 'Neighborhood', 'Condition1', 'Condition2', 'BldgType', 'HouseStyle', 'RoofStyle', 'RoofMatl', 'Exterior1st', 'Exterior2nd', 'MasVnrType', 'Foundation', 'Heating', 'CentralAir', 'GarageType', 'SaleType', 'SaleCondition']</code></pre>
</div>
</div>
</section>
<section id="select-the-variables-that-are-ordinal-from-var_dsc" class="level2">
<h2 class="anchored" data-anchor-id="select-the-variables-that-are-ordinal-from-var_dsc">Select the variables that are Ordinal from var_dsc</h2>
<p>From the variable description file we are collecting only the variables that are ordinal so that we can add it to the list of ordinal data.</p>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>ordinal_df <span class="op">=</span> var_dsc.loc[var_dsc[<span class="st">'variable_type'</span>] <span class="op">==</span> <span class="st">'Ordinal'</span>]</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co">#print(ordinal_df)</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>ordinal_df.head(<span class="dv">24</span>)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>ordinal_list <span class="op">=</span> ordinal_df[<span class="st">'variable'</span>].to_list()</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ordinal_list)</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>ordinal_list.remove(<span class="st">"PoolQC"</span>)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>ordinal_list.remove(<span class="st">"Fence"</span>)</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ordinal_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['LotShape', 'Utilities', 'LandSlope', 'OverallQual', 'OverallCond', 'ExterQual', 'ExterCond', 'BsmtQual', 'BsmtCond', 'BsmtExposure', 'BsmtFinType1', 'BsmtFinType2', 'HeatingQC', 'Electrical', 'KitchenQual', 'Functional', 'FireplaceQu', 'GarageFinish', 'GarageQual', 'GarageCond', 'PavedDrive', 'PoolQC', 'Fence']
['LotShape', 'Utilities', 'LandSlope', 'OverallQual', 'OverallCond', 'ExterQual', 'ExterCond', 'BsmtQual', 'BsmtCond', 'BsmtExposure', 'BsmtFinType1', 'BsmtFinType2', 'HeatingQC', 'Electrical', 'KitchenQual', 'Functional', 'FireplaceQu', 'GarageFinish', 'GarageQual', 'GarageCond', 'PavedDrive']</code></pre>
</div>
</div>
</section>
<section id="select-the-variables-that-are-continuous-from-var_dsc" class="level2">
<h2 class="anchored" data-anchor-id="select-the-variables-that-are-continuous-from-var_dsc">Select the variables that are Continuous from var_dsc</h2>
<p>From the variable description file we are collecting only the variables that are continuous so that we can add it to the list of continuous data.</p>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>cont_df <span class="op">=</span> var_dsc.loc[var_dsc[<span class="st">'variable_type'</span>] <span class="op">==</span> <span class="st">'Continuous'</span>]</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>cont_list <span class="op">=</span> cont_df[<span class="st">'variable'</span>].to_list()</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cont_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['LotFrontage', 'LotArea', 'MasVnrArea', 'BsmtFinSF1', 'BsmtFinSF2', 'BsmtUnfSF', 'TotalBsmtSF', '1stFlrSF', '2ndFlrSF', 'LowQualFinSF', 'GrLivArea', 'GarageArea', 'WoodDeckSF', 'OpenPorchSF', 'EnclosedPorch', '3SsnPorch', 'ScreenPorch', 'PoolArea', 'MiscVal', 'SalePrice']</code></pre>
</div>
</div>
</section>
<section id="creating-arguments-for-the-function-to-be-used" class="level2">
<h2 class="anchored" data-anchor-id="creating-arguments-for-the-function-to-be-used">Creating arguments for the function to be used</h2>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>ordinal_vars <span class="op">=</span> ordinal_list</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>continuous_vars <span class="op">=</span> cont_list</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>nominal_vars <span class="op">=</span>  nominal_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dropping-the-columns-with-the-most-missing-ratio" class="level2">
<h2 class="anchored" data-anchor-id="dropping-the-columns-with-the-most-missing-ratio">Dropping the columns with the most missing ratio</h2>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> df1.drop([<span class="st">'Alley'</span>,<span class="st">'PoolQC'</span>,<span class="st">'MiscFeature'</span>,<span class="st">'Fence'</span>],axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>df1.fillna(<span class="dv">0</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Dropped columns are : Alley,PoolQC,MiscFeature,Fence'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Dropped columns are : Alley,PoolQC,MiscFeature,Fence</code></pre>
</div>
</div>
</section>
<section id="applying-labelencoding-one-hot-encoding-and-log-tranfromation-on-the-above-generated-lists" class="level2">
<h2 class="anchored" data-anchor-id="applying-labelencoding-one-hot-encoding-and-log-tranfromation-on-the-above-generated-lists">Applying labelencoding , one hot encoding and log tranfromation on the above generated lists</h2>
<p>We apply labelencoding for the ordinal variables, one hot encoding for the nominal variables and log transformation for the continuous variables.</p>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> preprocess_dataset(dataset, continuous_vars, nominal_vars, ordinal_vars):</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(dataset.shape)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    transformed_dataset <span class="op">=</span> log_transform_continuous(dataset, continuous_vars)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(transformed_dataset.shape)</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    encoded_dataset <span class="op">=</span> one_hot_encode_nominal(transformed_dataset, nominal_vars)</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(encoded_dataset.shape)</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    preprocessed_dataset <span class="op">=</span> label_encode_dataset(encoded_dataset, ordinal_vars)</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(preprocessed_dataset.shape)</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> preprocessed_dataset</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>final_data <span class="op">=</span> preprocess_dataset(df1, continuous_vars, nominal_vars, ordinal_vars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(1460, 77)
(1460, 77)
(1460, 191)
(1460, 191)</code></pre>
</div>
</div>
</section>
<section id="splitting-the-data" class="level2">
<h2 class="anchored" data-anchor-id="splitting-the-data">Splitting the data</h2>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>columnindex <span class="op">=</span> final_data.columns.get_loc(<span class="st">'SalePrice'</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(columnindex)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>X1 <span class="op">=</span> final_data.iloc[:,<span class="dv">0</span>:columnindex]</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> final_data.iloc[:,columnindex]</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>X2 <span class="op">=</span> final_data.iloc[:,(columnindex <span class="op">+</span> <span class="dv">1</span>):<span class="dv">192</span>]</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> pd.concat([X1,X2],axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> X.fillna(<span class="dv">0</span>)</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>X.drop(<span class="st">'Id'</span>,axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>X</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>56</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="39">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Id</th>
<th data-quarto-table-cell-role="th">MSSubClass</th>
<th data-quarto-table-cell-role="th">LotFrontage</th>
<th data-quarto-table-cell-role="th">LotArea</th>
<th data-quarto-table-cell-role="th">LotShape</th>
<th data-quarto-table-cell-role="th">Utilities</th>
<th data-quarto-table-cell-role="th">LandSlope</th>
<th data-quarto-table-cell-role="th">OverallQual</th>
<th data-quarto-table-cell-role="th">OverallCond</th>
<th data-quarto-table-cell-role="th">YearBuilt</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">SaleType_ConLI</th>
<th data-quarto-table-cell-role="th">SaleType_ConLw</th>
<th data-quarto-table-cell-role="th">SaleType_New</th>
<th data-quarto-table-cell-role="th">SaleType_Oth</th>
<th data-quarto-table-cell-role="th">SaleType_WD</th>
<th data-quarto-table-cell-role="th">SaleCondition_AdjLand</th>
<th data-quarto-table-cell-role="th">SaleCondition_Alloca</th>
<th data-quarto-table-cell-role="th">SaleCondition_Family</th>
<th data-quarto-table-cell-role="th">SaleCondition_Normal</th>
<th data-quarto-table-cell-role="th">SaleCondition_Partial</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>60</td>
<td>65.0</td>
<td>9.042040</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>4</td>
<td>2003</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>20</td>
<td>80.0</td>
<td>9.169623</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>5</td>
<td>7</td>
<td>1976</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>60</td>
<td>68.0</td>
<td>9.328212</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>4</td>
<td>2001</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>70</td>
<td>60.0</td>
<td>9.164401</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>4</td>
<td>1915</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5</td>
<td>60</td>
<td>84.0</td>
<td>9.565284</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>7</td>
<td>4</td>
<td>2000</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1455</td>
<td>1456</td>
<td>60</td>
<td>62.0</td>
<td>8.976894</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>5</td>
<td>4</td>
<td>1999</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1456</td>
<td>1457</td>
<td>20</td>
<td>85.0</td>
<td>9.486152</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>5</td>
<td>5</td>
<td>1978</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1457</td>
<td>1458</td>
<td>70</td>
<td>66.0</td>
<td>9.109746</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>8</td>
<td>1941</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1458</td>
<td>1459</td>
<td>20</td>
<td>68.0</td>
<td>9.181735</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>4</td>
<td>5</td>
<td>1950</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1459</td>
<td>1460</td>
<td>20</td>
<td>75.0</td>
<td>9.204121</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>4</td>
<td>5</td>
<td>1965</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>1460 rows × 190 columns</p>
</div>
</div>
</div>
</section>
</section>
<section id="model-1" class="level1">
<h1>MODEL 1 :</h1>
<p>Linear Regression Model With the Mutual Information Data</p>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_selection <span class="im">import</span> SelectKBest, mutual_info_regression</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into features (X) and target variable (y)</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply SelectKBest feature selection</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>k <span class="op">=</span> <span class="dv">170</span> <span class="co"># Number of top features to select</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>selector <span class="op">=</span> SelectKBest(score_func<span class="op">=</span>mutual_info_regression, k<span class="op">=</span>k)</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>X_selected <span class="op">=</span> selector.fit_transform(X, y)</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X_selected, y, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Get selected feature names</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a><span class="co">#selected_feature_names = X.columns[selector.get_support()].tolist()</span></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit a linear regression model using the selected features</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>linear_regression <span class="op">=</span> LinearRegression()</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>linear_regression.fit(X_train, y_train)</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> linear_regression.predict(X_test)</span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a>y_predsp <span class="op">=</span> np.expm1(y_pred)</span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a>y_testsp <span class="op">=</span> np.expm1(y_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="scores" class="level2">
<h2 class="anchored" data-anchor-id="scores">Scores</h2>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>mse <span class="op">=</span> mean_squared_error(y_testsp, y_predsp)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>r2 <span class="op">=</span> r2_score(y_testsp, y_predsp)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> mean_squared_error(y_testsp, y_predsp,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mean Squared Error (RMSE) on train set:"</span>, mse)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Root Mean Squared Error (MSE) on train set:"</span>, rmse)</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"R-squared score on train set:"</span>, r2)</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>le <span class="op">=</span> <span class="bu">round</span>(linear_regression.score(X_test,y_test), <span class="dv">2</span>)</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(le)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Mean Squared Error (RMSE) on train set: 546978298.4546927
Root Mean Squared Error (MSE) on train set: 23387.567176914592
R-squared score on train set: 0.9216149399544519
0.91</code></pre>
</div>
</div>
</section>
</section>
<section id="model-2" class="level1">
<h1>MODEL 2 :</h1>
<p>RandomForest Regression</p>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X_selected, y, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create regressor object</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>regressor <span class="op">=</span> RandomForestRegressor(n_estimators<span class="op">=</span><span class="dv">100</span>,random_state<span class="op">=</span><span class="dv">0</span>,oob_score<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="co"># fit the regressor with x and y data</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>regressor.fit(X_train, y_train)</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>Y_pred <span class="op">=</span> regressor.predict(X_test)</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>Y_predsp <span class="op">=</span> np.expm1(Y_pred)</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>Y_testsp <span class="op">=</span> np.expm1(y_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="scores-of-the-randomforest-regression" class="level2">
<h2 class="anchored" data-anchor-id="scores-of-the-randomforest-regression">Scores of the RandomForest Regression</h2>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(regressor.oob_score_)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>r2 <span class="op">=</span> r2_score(Y_testsp, Y_predsp)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> mean_squared_error(Y_testsp, Y_predsp,squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"R-squared score on train set:"</span>, r2)</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Root Mean Squared Error (MSE) on train set:"</span>, rmse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.854487120934566
R-squared score on train set: 0.8920672085371776
Root Mean Squared Error (MSE) on train set: 27443.854297592465</code></pre>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>➡️CONCLUSION :</h1>
<p>From the above insights on the various scores and rmse and r2 values we can conclude that linear regression model with the mutual information data will be the most suitable for this house price prediction model.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>